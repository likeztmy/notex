import{N as u,w as b,m as a,M as h,e as l,f as p,l as T,aR as v,L,aG as H,T as M,b9 as x,E as R}from"./index-ek6y0BNb.js";import{C as w}from"./index-DdGhST80.js";import{Link as _}from"./index-BTfMnwZu.js";import{B as $,L as A,b as C,O as I}from"./index-DQ-7OsNE.js";import{D as S,G as B,U as N,T as K}from"./index-BBFr6lgX.js";var k=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...s}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,s,n]},O=/^\s*>\s$/,P=u.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return k("blockquote",{...a(this.options.HTMLAttributes,e),children:k("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",s=[];return e.content.forEach(r=>{const c=t.renderChildren([r]).split(`
`).map(i=>i.trim()===""?n:`${n} ${i}`);s.push(c.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[b({find:O,type:this.type})]}}),q=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,U=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,z=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,E=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,G=h.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return k("strong",{...a(this.options.HTMLAttributes,e),children:k("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[p({find:q,type:this.type}),p({find:z,type:this.type})]},addPasteRules(){return[l({find:U,type:this.type}),l({find:E,type:this.type})]}}),D=/(^|[^`])`([^`]+)`(?!`)$/,W=/(^|[^`])`([^`]+)`(?!`)/g,j=h.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",a(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[p({find:D,type:this.type})]},addPasteRules(){return[l({find:W,type:this.type})]}}),V=u.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),F=u.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",a(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:r,storedMarks:d}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:c}=s.extensionManager,i=d||r.$to.parentOffset&&r.$from.marks();return t().insertContent({type:this.name}).command(({tr:g,dispatch:m})=>{if(m&&i&&o){const f=i.filter(y=>c.includes(y.type.name));g.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),J=u.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,a(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const s=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,r="#".repeat(s);return e.content?`${r} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>T({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),X=u.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",a(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!L(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:s}=n,r=e();return H(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:d,tr:o,dispatch:c})=>{if(c){const{$to:i}=o.selection,g=i.end();if(i.nodeAfter)i.nodeAfter.isTextblock?o.setSelection(M.create(o.doc,i.pos+1)):i.nodeAfter.isBlock?o.setSelection(x.create(o.doc,i.pos)):o.setSelection(M.create(o.doc,i.pos));else{const m=d.schema.nodes[this.options.nextNodeType]||i.parent.type.contentMatch.defaultType,f=m?.create();f&&(o.insert(g,f),o.setSelection(M.create(o.doc,g+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[v({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}}),Q=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Y=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Z=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ee=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,te=h.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",a(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[p({find:Q,type:this.type}),p({find:Z,type:this.type})]},addPasteRules(){return[l({find:Y,type:this.type}),l({find:ee,type:this.type})]}}),re=u.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",a(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ne=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,se=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,oe=h.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",a(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[p({find:ne,type:this.type})]},addPasteRules(){return[l({find:se,type:this.type})]}}),ie=u.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),ae=h.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",a(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const d=r[2].trim();return{type:"underline",raw:r[0],text:d,tokens:n.inlineTokens(d)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),de=R.create({name:"starterKit",addExtensions(){var e,t,n,s;const r=[];return this.options.bold!==!1&&r.push(G.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(P.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push($.configure(this.options.bulletList)),this.options.code!==!1&&r.push(j.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(w.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(V.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(S.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(B.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(F.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(J.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(N.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(X.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(te.configure(this.options.italic)),this.options.listItem!==!1&&r.push(A.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(C.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&r.push(_.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&r.push(I.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(re.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(oe.configure(this.options.strike)),this.options.text!==!1&&r.push(ie.configure(this.options.text)),this.options.underline!==!1&&r.push(ae.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(K.configure((s=this.options)==null?void 0:s.trailingNode)),r}}),ge=de;export{de as StarterKit,ge as default};
