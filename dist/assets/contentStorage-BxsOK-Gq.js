const f={fontFamily:"sans",fontSize:"medium",contentWidth:"medium",lineHeight:"normal",textAlign:"left"};function s(t="",e="doc"){const o=Date.now(),r={id:`content_${o}_${Math.random().toString(36).substr(2,9)}`,title:t,mode:e,createdAt:o,updatedAt:o,lastViewed:o};return e==="canvas"?{...r,canvasBlocks:[]}:{...r,docContent:{type:"doc",content:[{type:"paragraph"}]}}}const i="notex-content",c="notex-documents";function a(){if(typeof window>"u")return[];const t=localStorage.getItem(i);if(t)try{return JSON.parse(t)}catch(e){return console.error("Failed to parse saved content:",e),[]}return u()}function d(t){typeof window>"u"||localStorage.setItem(i,JSON.stringify(t))}function g(t){return a().find(e=>e.id===t)}function C(t="",e="doc"){const o=s(t,e),n=a();return n.push(o),d(n),o}function l(t,e){const n=a().map(r=>r.id===t?{...r,...e,updatedAt:Date.now()}:r);d(n)}function p(t){const o=a().filter(n=>n.id!==t);d(o)}function m(t){const o=a().map(n=>n.id===t?{...n,starred:!n.starred,updatedAt:Date.now()}:n);d(o)}function w(t){l(t,{lastViewed:Date.now()})}function y(){return a().filter(t=>t.starred)}function h(t){return a().filter(e=>e.folderId===t)}function S(){return a().filter(t=>t.sharedWith&&t.sharedWith.length>0)}function A(t=10){return a().filter(e=>e.lastViewed).sort((e,o)=>(o.lastViewed||0)-(e.lastViewed||0)).slice(0,t)}function u(){if(typeof window>"u")return[];const t=localStorage.getItem(c);if(!t)return[];try{const o=JSON.parse(t).map(n=>({id:n.id,title:n.title,mode:"doc",docContent:n.content,createdAt:n.createdAt,updatedAt:n.updatedAt,lastViewed:n.lastViewed}));return d(o),console.log(`âœ… Migrated ${o.length} documents to new format`),o}catch(e){return console.error("Failed to migrate legacy documents:",e),[]}}export{f as D,g as a,h as b,C as c,A as d,S as e,p as f,y as g,l as h,a as l,m as t,w as u};
