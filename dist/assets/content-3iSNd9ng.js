import{r as s,j as t}from"./index-MvcxFbVf.js";import{C as w}from"./ContentTable-e_XN4EC5.js";import{P as j,T as o}from"./ToolbarButton-BI3WYJPI.js";import{l as p}from"./contentStorage-BxsOK-Gq.js";import{L as C,A as S,S as y}from"./search-CmVuYEoi.js";import{L as g}from"./list-CpUYafZZ.js";import{S as v}from"./star-C0F3MUTK.js";import{C as L}from"./clock-lPDSOflZ.js";import"./utils-CEmwZijL.js";import"./clsx-B-dksMZM.js";import"./file-text-CFrRMDHy.js";import"./createLucideIcon-D8Ohv4ly.js";import"./tag-nz5u6ffQ.js";import"./ellipsis-Cn3YzYi7.js";import"./index-CuuhE5ML.js";import"./sidebar-DUOdGS7X.js";import"./floating-ui.utils.dom-CV9rnmvN.js";function F(){const[m,x]=s.useState(()=>p()),[u,d]=s.useState("list"),[i,N]=s.useState(""),[a,f]=s.useState("updated");s.useEffect(()=>{x(p())},[]);const h=s.useMemo(()=>{let n=m;if(i.trim()){const r=i.toLowerCase();n=n.filter(e=>{if(e.title.toLowerCase().includes(r)||e.tags?.some(c=>c.toLowerCase().includes(r)))return!0;if(e.docContent)try{const c=l=>l.text?l.text:l.content?l.content.map(c).join(" "):"";if(c(e.docContent).toLowerCase().includes(r))return!0}catch{}return!1})}return[...n].sort((r,e)=>{switch(a){case"title":return r.title.localeCompare(e.title);case"created":return new Date(e.createdAt).getTime()-new Date(r.createdAt).getTime();default:return new Date(e.updatedAt).getTime()-new Date(r.updatedAt).getTime()}})},[m,i,a]);return t.jsxs("div",{className:"h-full flex flex-col",style:{background:"var(--color-linear-bg-secondary)"},children:[t.jsxs(j,{title:"All Documents",children:[t.jsx(o,{active:u==="grid",onClick:()=>d("grid"),title:"Grid view",children:t.jsx(C,{className:"h-4 w-4"})}),t.jsx(o,{active:u==="list",onClick:()=>d("list"),title:"List view",children:t.jsx(g,{className:"h-4 w-4"})}),t.jsx(o,{onClick:()=>{f(a==="updated"?"created":a==="created"?"title":"updated")},title:`Sort by: ${a}`,children:t.jsx(S,{className:"h-4 w-4"})}),t.jsx(o,{title:"Starred",children:t.jsx(v,{className:"h-4 w-4"})}),t.jsx(o,{title:"Recent",children:t.jsx(L,{className:"h-4 w-4"})}),t.jsx(o,{title:"Search",children:t.jsx(y,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex-1 overflow-auto px-6 py-4",children:t.jsx(w,{content:h,emptyMessage:i?"No documents match your search":"Your documents will appear here"})})]})}export{F as component};
