import{M as o,e as s,f as l,m as u}from"./index-ek6y0BNb.js";var d=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,h=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,g=o.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",u(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,i){const r=/^(==)([^=]+)(==)/.exec(t);if(r){const n=r[2].trim(),a=i.inlineTokens(n);return{type:"highlight",raw:r[0],text:n,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[l({find:d,type:this.type})]},addPasteRules(){return[s({find:h,type:this.type})]}}),p=g;export{g as Highlight,p as default,d as inputRegex,h as pasteRegex};
